<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="commonSql">
	
	<!-- 공통코드 그룹 추가 -->
	<insert id="putCommonGroup" parameterType="com.dongkeonoh.toybox.vo.CommonVo">
		INSERT INTO TB_COMMON_GROUP
        VALUES 
     		 (
       		   #{cgr_group},
       		   #{cgr_group_name},
       		   #{cgr_note},
       		   'Y'
     		 )
	</insert>

	<!-- 공통코드 그룹 조회 -->
<!-- 	<select id="getCommonGroup" parameterType="com.dongkeonoh.toybox.vo.CommonVo" resultType="com.dongkeonoh.toybox.vo.CommonVo"> -->
<!-- 		SELECT CGR_GROUP -->
<!-- 		     , CGR_NOTE  -->
<!-- 		  FROM TB_COMMON_GROUP -->
<!-- 		 WHERE 1=1 -->
<!-- 		   AND CGR_USEYN = 'Y' -->
<!-- 		   AND CGR_GROUP = #{cgr_group} -->
<!-- 	</select> -->

	<!-- 공통코드 그룹 목록 조회 -->
	<select id="listCommonGroup" parameterType="com.dongkeonoh.toybox.vo.CommonVo" resultType="com.dongkeonoh.toybox.vo.CommonVo">
		SELECT CGR_GROUP
		     , CGR_NOTE 
		  FROM TB_COMMON_GROUP
		 WHERE 1=1
		   AND CGR_USEYN = 'Y'
	</select>


	<!-- 공통코드 추가 -->
<!-- 	<insert id="putCommon" parameterType="com.dongkeonoh.toybox.vo.CommonVo"> -->
<!-- 		INSERT INTO TB_COMMON -->
<!--         VALUES  -->
<!--      		 ( -->
<!--        		   #{com_id}, -->
<!--        		   #{com_category}, -->
<!--        		   #{com_code}, -->
<!--        		   #{com_codename}, -->
<!--        		   #{com_detail1}, -->
<!--        		   #{com_detail2}, -->
<!--        		   #{com_note}, -->
<!--        		   'Y' -->
<!--      		 ) -->
<!-- 	</insert> -->
	
	
	<!-- 공통코드 추가시 번호 확인 -->
<!-- 	<select id="getCommonNumber" resultType="String"  parameterType="com.dongkeonoh.toybox.vo.CommonVo"> -->
<!-- 		SELECT COM_ID -->
<!-- 		  FROM ( -->
<!-- 				SELECT COM_ID -->
<!-- 				  FROM TB_COMMON -->
<!-- 				 WHERE COM_CATEGORY1 = #{com_category1} -->
<!-- 				   AND COM_CATEGORY2 = #{com_category2} -->
<!-- 				   AND COM_CATEGORY3 = #{com_category3} -->
<!-- 				 ORDER BY COM_ID DESC -->
<!-- 				) -->
<!-- 		 WHERE ROWNUM = 1 -->
<!-- 	</select> -->
	
	<!-- 공통코드 목록 보기 -->
<!-- 	<select id="getCommonList" resultType="com.dongkeonoh.toybox.vo.CommonVo"  parameterType="map"> -->
<!-- 		SELECT COM_ID -->
<!-- 			 , COM_CATEGORY1 -->
<!-- 			 , COM_CATEGORY2 -->
<!-- 			 , COM_CATEGORY3 -->
<!-- 			 , COM_NAME -->
<!-- 			 , COM_CNT -->
<!-- 		  FROM ( -->
<!-- 				SELECT A.* -->
<!-- 				     , ROW_NUMBER() OVER( ORDER BY #{order_type} DESC) AS COM_ROW  -->
<!-- 			 		 , COUNT(*) OVER() AS COM_CNT -->
<!-- 				  FROM TB_COMMON A -->
<!-- 				  WHERE 1=1 -->
<!-- 		<if test='target == "id"'> -->
<!-- 		   			AND COM_ID LIKE '%'||#{keyword}||'%' -->
<!-- 		</if> -->
<!-- 		<if test='target == "category1"'> -->
<!-- 		   			AND COM_CATEGORY1 LIKE '%'||#{keyword}||'%' -->
<!-- 		</if> -->
<!-- 		<if test='target == "category2"'> -->
<!-- 		  			AND COM_CATEGORY2 LIKE '%'||#{keyword}||'%' -->
<!-- 		</if> -->
<!-- 		<if test='target == "category3"'> -->
<!-- 		  			AND COM_CATEGORY3 LIKE '%'||#{keyword}||'%' -->
<!-- 		</if> -->
<!-- 		<if test='target == "name"'> -->
<!-- 		   			AND COM_NAME LIKE '%'||#{keyword}||'%' -->
<!-- 		</if> -->
<!-- 			   ) -->
<!-- 		 WHERE 1=1 -->
<!-- 	       AND COM_ROW BETWEEN #{start_idx} AND #{end_idx} -->
<!-- 	</select>	 -->
	
	<!-- 공통코드 삭제-->
<!-- 	<delete id="delCommon" parameterType="com.dongkeonoh.toybox.vo.CategoryVo"> -->
<!-- 		DELETE  -->
<!-- 		  FROM TB_COMMON -->
<!-- 		 WHERE 1=1 -->
<!-- 		   <if test='cde_depth == "1"'> -->
<!-- 		   AND COM_CATEGORY1 = #{cde_id}	 -->
<!-- 		   </if> -->
<!-- 		   <if test='cde_depth == "2"'> -->
<!-- 		   AND COM_CATEGORY2 = #{cde_id}	 -->
<!-- 		   </if> -->
<!-- 		   <if test='cde_depth == "3"'> -->
<!-- 		   AND COM_CATEGORY3 = #{cde_id}	 -->
<!-- 		   </if> -->
<!-- 	</delete>	 -->
</mapper>

