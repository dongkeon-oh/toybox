create user toybox identified by xobyot; 
grant resource, connect to toybox;

CREATE TABLE TB_USER(
    USR_ID			VARCHAR(20) PRIMARY KEY,
    USR_PASSWORD		VARCHAR(20) NOT NULL,
    USR_NAME		VARCHAR(10) NOT NULL,
    USR_IMAGE		VARCHAR(100) DEFAULT 'user_default.jpg' NOT NULL,
    USR_SMS		VARCHAR(13) NOT NULL,
    USR_KAKAO		VARCHAR(100),
    USR_USEYN		CHAR(1) NOT NULL,
    USR_ACTIVE		CHAR(1) NOT NULL
);

CREATE TABLE TB_ITEM(
    ITM_ID			CHAR(8) PRIMARY KEY,
    ITM_NAME		VARCHAR(100) NOT NULL,
    ITM_TYPE		CHAR(16) REFERENCES TB_COMMON(COM_ID) NOT NULL,
    ITM_OWNER		VARCHAR(20) REFERENCES TB_USER(USR_ID) NOT NULL,
    ITM_MAINITEM		CHAR(8) DEFAULT 'NO_ITEM' NOT NULL,
    ITM_NOTE		VARCHAR(1000),
    ITM_IMAGE		VARCHAR(100) DEFAULT 'item_default.jpg' NOT NULL,
    ITM_LOCATION		VARCHAR(20)  REFERENCES TB_USER(USR_ID) NOT NULL
);

CREATE TABLE TB_COMMON(
    COM_ID		CHAR(20) PRIMARY KEY,
    COM_CATEGORY1	VARCHAR(100) NOT NULL,
    COM_CATEGORY2	VARCHAR(100),
    COM_CATEGORY3	VARCHAR(100),
    COM_NAME		VARCHAR(100) NOT NULL,
    COM_USEYN		CHAR(1) NOT NULL
);

CREATE TABLE TB_CONDITION(
    CDT_ID			CHAR(16) PRIMARY KEY,
    CDT_CONDITION		CHAR(16) REFERENCES TB_COMMON(COM_ID) NOT NULL,
    CDT_ITEM		CHAR(8) REFERENCES TB_ITEM(ITM_ID) NOT NULL,
    CDT_USER		VARCHAR(20) REFERENCES TB_USER(USR_ID) NOT NULL,
    CDT_LOCATION		VARCHAR(20) REFERENCES TB_USER(USR_ID) NOT NULL,
    CDT_RENTTYPE		CHAR(16) REFERENCES TB_COMMON(COM_ID) NOT NULL,
    CDT_NOTE		VARCHAR(1000),
    CDT_TODATE		DATE NOT NULL,
    CDT_FROMDATE		DATE NOT NULL,
    CDT_RETURNDATE	DATE NOT NULL,
    CDT_CREATEDATE	DATE NOT NULL
);

CREATE SEQUENCE SEQ_ITEM_ID
START WITH 0
INCREMENT BY 1
MAXVALUE 9999
MINVALUE 0
;

CREATE SEQUENCE SEQ_CONDITION_ID
START WITH 0
INCREMENT BY 1
MAXVALUE 99999999
MINVALUE 0
;